## [ 범용 고유 식별자(UUID) ]

### 핵심 한 줄 요약
    중복 확률이 낮은 UUID를 상황에 맞게 적용하자

### 인트로
- 소프트웨어를 개발할 때는 다양한 형태의 식별자가 필요하다.
- 가장 범용적으로 사용하는 범용 고유 식별자 => UUID 를 소개하는 챕터이다.

### UUID 구조
- 하이픈 4개와 16진수 32개로 구성되어 있다.
- 8개-4개-4개-12개 구조를 반드시 유지해야 한다.
- 하이픈을 생략하는 경우도 있다.
- 16진수 하나를 표현하는 데 4비트(0.5 바이트)가 필요하니 32x4=128비트이므로, 총 16바이트 가 필요하다.
- 32개의 16진수 모두 무작위로 만들기 때문에 중복 가능성이 매우 적다.

### UUID 버전
- 대부분 4버전을 쓴다. 다른 버전도 알아는 두자
- 버전1,2:
  - 1은 컴퓨터의 맥 주소와, 타임스탬프 값을 기반으로 생성한다.
  - 2는 자릿수 일부를 지역별 정의로 남겨뒀다.
  - 하지만 이 방법 둘 다 시스템이 커지면 한계가 있다. 더 이상 사용하지 않는다.
- 버전3, 5
  - 네임스페이스와 문자열을 받아 해시 함수를 사용해 변환한다.
  - 입력값이 같으면 UUID도 같다는 특성이 있다.
  - 버전 3은 MD5, 버전 5는 SHA-1 기반을 사용한다.
  - MD5 해시 알고리즘이 취약점이 발견되어서 그 후에는 사용하지 않지만 데이터 식별용으로는 문제없다.
- 버전4
  - 가장 많이 사용하는 UUID 버전
  - 버전 표기 비트 제외 모두 무작위로 생성한다.
  - 별도로 몇 버전 쓴다~ 이런 얘기 없으면 다 4버전 쓰고 있는걸로 알면 된다.

### 실사용 예
- 작업 식별자:
  - 논리적인 작업의 고유 식별자로 사용할 수도 있다.
- 고정된 값을 포함한 UUID
  - 책에서는 UUID의 앞 8자리를 타임스탬프 값으로 사용하는 걸 소개한다.
  - 고정된 값을 사용할 때는 충돌 우려가 있어 어떤 문제가 생길지 검토하고 대비하는게 좋다.

### 하지만
- UUID는 충돌 가능성이 낮아서 고유 식별자로 사용하기 좋다.
- 하지만 16바이트나 필요하고 정보를 식별하기 어렵다.
- ex) 게시판 글 번호는 그냥 1씩 증가하는 auto increment 로도 충분하다.
- ex) 
  - API 요청 ID=1e2c6353-6273-4531-9cd5-5591d1a0fb2c 이거 보다 
  - API 요청 IP=10.10.2.250, 요청 주소=/v1/comments, 메서드=POST 이게 훨씬 보기 좋다.
- 그래서 상황에 맞게 적용하는 것이 중요하다.
