## [ 프로토콜 버퍼 ]

### 핵심 한 줄 요약
    데이터를 빠르게, 압축해서 통신해야 하는 상황이라면 프로토콜 버퍼를 사용하자.

### 인트로
- 구글에서 만든 데이터 직렬화 규격이다.
- JSON, YAML, XML 은 텍스트 기반, 프로토콜 버퍼는 바이너리 기반이라 빠르고 효율적이다.
- 실시간 온라인 게임처럼 제한된 짧은 시간 안에 수많은 요청이 오고 갈 때는 텍스트 기반 규격은 병목 현상을 발생한다.
- 즉 그럴 때는 프로토콜 버퍼 처럼 바이너리 기반 규격을 사용해야 한다.

### 특징
- 바이너리 규격:
  - 바이너리 형태라 사람이 읽을 수 없다.
  - 받는 쪽에서 보내는 쪽과 동일한 규격을 사용해야지 원래 메시지를 복원할 수 있다.
  - 근데 사람이 읽을 수 없다고 보안에 안전한 것은 아니다.
  - 디버깅 하기도 어렵다.
  - 그래도 쓰는 이유는 크기를 효율적으로 줄이고, 처리 성능도 빠르기 때문이다.
- 규격 코드화:
  - JSON, YAML, XML 은 라이브러리만 설치하면 원하는 규격을 만들 수 있다. => 안써도 만들 수 있다.
  - 근데 프로토콜 버퍼는 다르다. => 스키마 파일, 컴파일러, 인터페이스 코드가 필요하다.
  - 스키마 파일:
    - 프로토콜 버퍼에서 사용할 메시지 구조를 정의한다.
  - 컴파일러:
    - 스키마 파일에 필요한 언어를 인터페이스 코드로 만들어 주는 프로그램이다.
  - 인터페이스 코드
    - 컴파일러가 스키마를 읽어 만들어낸 결과물이다.
    - 모든 프로그램은 이 코드를 통해서만 데이터를 직렬화/역직렬화 할 수 있다.

### 사용법
- 음 JS는 약간 다른 방법으로 할 수 있다. 이 부분은 사용할 때 찾아서 해보자 => protoc
- 처음이라면 버전3로 시작하는게 좋다.
- protoc --js_out=import_style=commonjs,binary:. ./test.proto  이거 왜 안되는지 모르겠다 ㅜㅜ
- UTF-8, JSON 으로 변환도 가능하다. 버전3부터 추가 됐으며 버전 2를 사용중이면 직접 구현해야 한다.
- 공식문서에 javascript 가 없는 걸 보니 흠 더 찾아봐야겠다.
